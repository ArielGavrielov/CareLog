{"version":3,"sources":["Context/createDataContext.js","API/CareLog.js","Context/AuthContext.js","logo-1500X500.png","components/Home/home.component.js","components/Patients/AddPatientModal.js","components/Patients/patients.component.js","components/PatientDetails/PatientDetails.component.js","Navigations/AuthNavigation.js","components/Login/login.component.js","Navigations/UnAuthNavigation.js","App.js","index.js"],"names":["Reducer","reducer","actions","defaultValue","Context","React","createContext","Provider","children","useReducer","state","dispatch","boundActions","key","value","CareLogAPI","axios","create","baseURL","timeout","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","response","error","status","removeItem","Promise","reject","finally","window","location","reload","alert","createDataContext","action","type","payload","isLoading","errorMessage","message","signin","email","password","resolve","a","console","log","post","data","setItem","then","success","signout","clearErrorMessage","restoreToken","e","Home","Modal","setAppElement","style","content","top","left","right","bottom","marginRight","transform","AddPatientModal","useState","modalIsOpen","setIsOpen","phone","formState","setFormState","setState","validateForm","test","Button","block","size","onClick","id","className","isOpen","onRequestClose","closeTimeoutMS","Form","onSubmit","event","preventDefault","res","catch","err","Group","controlId","Label","Control","autoFocus","onChange","target","country","onlyCountries","placeholder","color","disabled","SearchBar","Search","columns","dataField","hidden","text","sort","formatter","cell","row","rowIndex","formatExtraData","to","pathname","_id","patientData","Patients","patients","setPatients","useEffect","get","keyField","search","props","searchProps","baseProps","striped","hover","condensed","overlay","overlayFactory","pagination","paginationFactory","PatientDetails","firstname","AuthNavigation","useContext","AuthContext","routes","path","component","navLink","Navbar","bg","sticky","fixed","Container","Toggle","aria-controls","Brand","href","src","logo","width","height","alt","Collapse","Nav","map","route","index","Link","exact","render","Login","UnAuthNavigation","display","justifyContent","alignItems","App","checkToken","addEventListener","removeEventListener","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.befb4fa2.chunk.js","sourcesContent":["import React, { useReducer } from 'react';\n\nconst Reducer = (reducer, actions, defaultValue) => {\n    const Context = React.createContext();\n\n    const Provider = ({ children }) => {\n        const [state, dispatch] = useReducer(reducer, defaultValue);\n        \n        const boundActions = {};\n\n        for(let key in actions) {\n            boundActions[key] = actions[key](dispatch);\n        }\n\n        return (\n            <Context.Provider value={{ state, ...boundActions }}>\n                {children}\n            </Context.Provider>\n        );\n    };\n\n    return { Context, Provider };\n};\n\nexport default Reducer;","import axios from 'axios';\n\nconst DEBUG = true;\n\nexport const CareLogAPI = axios.create({\n    baseURL: DEBUG ? 'http://localhost:3001/api/' : 'https://carelog.herokuapp.com/api/',\n    timeout: 10000,\n    //headers: {'Authorization': `Bearer ${window.localStorage.getItem('token')}`}\n});\n\n// Add a request interceptor\nCareLogAPI.interceptors.request.use(function (config) {\n    let token = localStorage.getItem('token');\n    config.headers.Authorization =  token;\n\n    return config;\n});\n\nCareLogAPI.interceptors.response.use((response) => {\n    return response;\n}, (error) => {\n    let token = localStorage.getItem('token');\n    if(error.response.status === 401 && token) {\n        // Token expire, back to login\n        localStorage.removeItem('token');\n\n        return Promise.reject(\"Token expired.\").finally(() => {\n            window.location.reload();\n            alert('Token expired.');\n        });\n    } else\n        return Promise.reject(error);\n});","import createDataContext from './createDataContext';\nimport { CareLogAPI } from '../API/CareLog';\n\nconst authReducer = (state, action) => {\n    switch(action.type) {\n        case 'restore_token':\n            return {...state, token: action.payload, isLoading: false};\n        case 'add_error': // if not responsed code 200;\n            return { ...state, errorMessage: action.payload, message: '' };\n        case 'signin':\n            return { ...state, errorMessage: '', token: action.payload };\n        case 'signout':\n            return { ...state, errorMessage: '', token: null, isLoading: false };\n        case 'clear_error_message':\n            return {...state, errorMessage: '' };\n        default: \n            return { isLoading: false, token: null, errorMessage: '' }\n    }\n}\n\n// clear error message\nconst clearErrorMessage = dispatch => () => {\n    dispatch({type: 'clear_error_message'});\n}\n\n// Automatic signin\nconst restoreToken = dispatch => async () => {\n    let token;\n    try {\n        // get token from local storage\n        token = localStorage.getItem('token');\n        dispatch({type: 'restore_token', payload: token});\n    } catch(e){\n       console.log(\"cant to get token...\");\n       dispatch({type: 'restore_token', payload: null});\n    }\n}\n\n// signin post\nconst signin = (dispatch) => ({ email, password }) => {\n    return new Promise(async (resolve, reject) => {\n        try {\n            console.log(\"signin\");\n            // get responsed\n            const response = await CareLogAPI.post('/doctor/signin', { email, password });\n            // save token at local storage\n            console.log(response.data);\n            localStorage.setItem('token', response.data.token);\n            dispatch({ type: 'signin', payload: response.data.token });\n            resolve(true);\n        } catch(err) {\n            // add error\n            console.log(err);\n            console.log(err.response.data.error);\n            dispatch({ type: 'add_error', payload: err.response.data.error });\n            reject(false);\n        }\n    }).then((success) => {\n        console.log(success);\n        if(success) window.location.reload();\n    });\n};\n\n// signout - remove token from securestore\nconst signout = dispatch => async () => {\n    localStorage.removeItem('token');\n    dispatch({type: 'signout'});\n    window.location.reload();\n};\n\nexport const { Provider, Context } = createDataContext(\n    authReducer,\n    { signin, signout, clearErrorMessage, restoreToken },\n    { token: null, errorMessage: '', isLoading: true }\n);","export default __webpack_public_path__ + \"static/media/logo-1500X500.fcf81f3f.png\";","import React from \"react\";\n\nconst Home = () => {\n\n    return (\n        <div>\n            <h2>Home</h2>\n        </div>\n    );\n}\n\nexport default Home;","import React from \"react\";\nimport Modal from 'react-modal';\nimport { Button, Form } from \"react-bootstrap\";\nimport { CareLogAPI } from \"../../API/CareLog\";\nimport PhoneInput from 'react-phone-input-2'\nimport 'react-phone-input-2/lib/style.css'\nimport './patients.css';\n\nModal.setAppElement('div');\n\nconst AddPatientModal = () => {\n    const [modalIsOpen, setIsOpen] = React.useState(false);\n    const [formState, setFormState] = React.useState({email: '', phone: ''});\n    const [state, setState] = React.useState({error: null, success: null});\n\n    const validateForm = () => {\n        const phoneReg = /^\\+?(972|0)(\\/-)?0?([5]{1}[0-9]{1}\\d{7})$/;\n        const emailReg = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return emailReg.test(formState.email) && phoneReg.test(formState.phone);\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        if(!validateForm()) return;\n        CareLogAPI.post('/doctor/link-patient', formState)\n        .then((res) => setState({success: res.data.message}))\n        .catch((err) => setState({error: err.response.data.error}));\n    }\n\n    return (\n        <div>\n            <Button block size=\"lg\" type=\"submit\" onClick={() => setIsOpen(true)}>\n                Add Patient\n            </Button>\n            <div id='modal' className='modal'>\n                <Modal\n                    isOpen={modalIsOpen}\n                    onRequestClose={() => setIsOpen(false)}\n                    style={style}\n                    closeTimeoutMS={500}\n                >\n                    <h1>Link patient</h1>\n                    <Form onSubmit={handleSubmit}>\n                        <Form.Group size=\"lg\" controlId=\"email\">\n                        <Form.Label>Email</Form.Label>\n                        <Form.Control\n                            autoFocus\n                            type=\"email\"\n                            value={formState.email}\n                            onChange={(e) => setFormState({...formState, email: e.target.value})}\n                        />\n                        </Form.Group>\n                        <Form.Group size=\"lg\" controlId=\"password\">\n                        <Form.Label>Phone</Form.Label>\n                        <PhoneInput\n                            country={'il'}\n                            onlyCountries={['il']}\n                            placeholder='Patient phone number'\n                            value={formState.phone}\n                            onChange={phone => setFormState({ ...formState, phone })}\n                        />\n                        </Form.Group>\n                        {state.success ? <div><b style={{color: 'green'}}>{state.success}</b></div> : state.error ? <div><b style={{color: 'red'}}>{state.error}</b></div> : null}\n                        <Button block size=\"lg\" type=\"submit\" disabled={!validateForm()}>\n                            Send request to patient\n                        </Button>\n                    </Form>\n                </Modal>\n            </div>\n        </div>\n    );\n}\n\nconst style = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)'\n    }\n}\n\nexport default AddPatientModal;","import React from \"react\";\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport ToolkitProvider, { Search } from 'react-bootstrap-table2-toolkit';\nimport overlayFactory from 'react-bootstrap-table2-overlay';\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport AddPatient from \"./AddPatientModal\";\nimport { CareLogAPI } from \"../../API/CareLog\";\nimport { Link } from 'react-router-dom';\n\nconst { SearchBar } = Search;\n\n//const linkFollow = \n\nconst columns = [\n    {\n        dataField: '_id',\n        hidden: true\n    },\n    {\n        dataField: 'firstname',\n        text: 'First name',\n        sort: true\n    },\n    {\n        dataField: 'lastname',\n        text: 'Last name',\n        sort: true\n    },\n    {\n        dataField: 'email',\n        text: 'Email'\n    },\n    {\n        dataField: 'phone',\n        text: 'Phone'\n    },\n    {\n        dataField: 'birthdate',\n        text: 'Birth date'\n    },\n    {\n        dataField: 'actions',\n        text: 'Actions',\n        formatter: (cell, row, rowIndex, formatExtraData) => {\n            return (\n                <Link to={{ \n                    pathname: `/patient/${row._id}`, \n                    patientData: row\n                  }}>Read More...</Link>\n            );\n          }\n    }\n];\n\nconst Patients = () => {\n    const [patients, setPatients] = React.useState([]);\n    React.useEffect(() => {\n        //if(patients.length === 0)\n        CareLogAPI.get('/doctor/patients').then((response) => {\n            setPatients(response.data);\n        }).catch((err) => {\n            console.log(err)\n        });\n    }, []);\n\n    return (\n        <div>\n            <ToolkitProvider\n                keyField=\"_id\"\n                data={ patients }\n                columns={ columns }\n                search\n            >\n                {\n                    props => (\n                    <div>\n                        {console.log(props.searchProps)}\n                        <h3>Input something at below input field:</h3>\n                        <SearchBar \n                            { ...props.searchProps }\n                        />\n                        <hr />\n                        <BootstrapTable\n                            { ...props.baseProps }\n                            striped\n                            hover\n                            condensed\n                            overlay={overlayFactory()}\n                            pagination={paginationFactory()}\n                        />\n                    </div>\n                    )\n                }\n            </ToolkitProvider>\n            <AddPatient />\n        </div>\n    );\n}\n\nexport default Patients;","import React from 'react';\n\nconst PatientDetails = (props) => {\n    console.log(props);\n    if(!props.location.patientData) return null;\n    return (\n        <div>\n            <p>patient {props.location.patientData.firstname}</p>\n        </div>\n    )\n}\n\nexport default PatientDetails;","import React from 'react';\nimport { Navbar, Nav, Container } from 'react-bootstrap';\nimport { Switch, Route } from \"react-router-dom\";\nimport { Context as AuthContext } from '../Context/AuthContext';\nimport logo from '../logo-1500X500.png';\n\n// Screens\nimport Home from \"../components/Home/home.component\";\nimport Patients from '../components/Patients/patients.component';\nimport PatientDetails from '../components/PatientDetails/PatientDetails.component';\n\nconst AuthNavigation = () => {\n    const { signout } = React.useContext(AuthContext);\n\n    const routes = [\n        {path: '/', component: Home, navLink: 'Home'},\n        {path: '/patients', component: Patients, navLink: 'Patients'},\n        {path: '/patient/:id', component: PatientDetails}\n    ]\n\n    return (\n        <div>\n            <Navbar bg='light' sticky='top' fixed='top'>\n                <Container>\n                    <Navbar.Toggle aria-controls='responsive-navbar-nav' />\n                    <Navbar.Brand href=\"/\">\n                        <img\n                            src={logo}\n                            width=\"100\"\n                            height=\"30\"\n                            className=\"d-inline-block align-top\"\n                            alt=\"React Bootstrap logo\"\n                        />\n                    </Navbar.Brand>\n                    <Navbar.Collapse>\n                        <Nav>\n                            {routes.map((route, index) => {\n                                if(route.navLink)\n                                    return <Nav.Link key={route + index} href={route.path}>{route.navLink}</Nav.Link>\n                                })}\n                            <Nav.Link href='/signout'>Sign out</Nav.Link>\n                        </Nav>\n                    </Navbar.Collapse>\n                </Container>\n            </Navbar>\n            <Switch>\n                {routes.map((route, index) => \n                    <Route key={route + index} exact path={route.path} component={route.component} />\n                )}\n                <Route path='/signout' render={() => {signout(); window.location.href = '/'; return null;}} />\n            </Switch>\n        </div>\n    )\n}\n\nexport default AuthNavigation;","import React from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport {Context as AuthContext } from '../../Context/AuthContext';\nimport \"./Login.css\";\n\nexport default function Login() {\n  const { state, signin } = React.useContext(AuthContext);\n  const [formState, setFormState] = React.useState({email: '', password: ''});\n  \n  function validateForm() {\n    const emailReg = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    const passwordReg =/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,16}$/;\n    return passwordReg.test(formState.password) && emailReg.test(formState.email);\n  }\n\n  React.useState(() => {\n    return () => window.location.href = '/';\n  }, [])\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    signin(formState).then((success) => {\n      console.log(success);\n      if(success) window.location.href = '/';\n    }).catch((err) => console.log(err));\n\n  }\n\n  return (\n    <div className=\"Login\">\n      <Form onSubmit={handleSubmit}>\n        <Form.Group size=\"lg\" controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            autoFocus\n            type=\"email\"\n            value={formState.email}\n            onChange={(e) => setFormState({...formState, email: e.target.value})}\n          />\n        </Form.Group>\n        <Form.Group size=\"lg\" controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            value={formState.password}\n            onChange={(e) => setFormState({...formState, password: e.target.value})}\n          />\n        </Form.Group>\n        {state.errorMessage ? <div><b style={{color: 'red'}}>{state.errorMessage}</b></div> : null}\n        <Button block size=\"lg\" type=\"submit\" disabled={!validateForm()}>\n          Login\n        </Button>\n      </Form>\n    </div>\n  );\n}","import Login from \"../components/Login/login.component\";\nimport logo from '../logo-1500X500.png';\nimport { Switch, Route } from \"react-router-dom\";\n\nconst UnAuthNavigation = () => {\n    return (\n        <div style={{display: 'flex',  justifyContent:'center', alignItems:'center', height: '100vh'}}>\n            <div>\n                <img src={logo} style={{width: 150, height: 50}} alt='CareLog'/>\n                <h3>Doctor Dashboard simulation</h3>\n                <Switch>\n                    <Route exact path='/*' component={Login} />\n                </Switch>\n            </div>\n        </div>\n    )\n}\n\nexport default UnAuthNavigation;","import React from 'react';\nimport './App.css';\nimport { Context as AuthContext } from './Context/AuthContext';\nimport AuthNavigation from './Navigations/AuthNavigation';\nimport UnAuthNavigation from './Navigations/UnAuthNavigation';\n\nconst  App = () => {\n  const {state, restoreToken, signout} = React.useContext(AuthContext);\n\n  React.useEffect(() => {\n    if(!state.token) {\n      restoreToken();\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  React.useEffect(() => {\n    const checkToken = () => {\n      let token = localStorage.getItem('token');\n      //if(!token && state.token)\n      //  signout();\n      console.log(\"token\", token);\n    }\n  \n    window.addEventListener('storage', checkToken)\n  \n    return () => {\n      window.removeEventListener('storage', checkToken)\n    }\n  }, [])\n\n  if(state.isLoading) return null;\n\n  return (\n    <div className=\"App\">\n      {state.token ? <AuthNavigation /> :\n      <UnAuthNavigation /> }\n    </div>\n  );\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider as AuthProvider} from './Context/AuthContext';\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <AuthProvider>\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n  </AuthProvider>,\n    document.getElementById(\"root\")\n);"],"sourceRoot":""}